<!doctype html>
<html>
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M077D60Y90"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M077D60Y90');
</script>

<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="author" content="山下陽介 (Yousuke Yamashita)  国立環境研究所 (National Institute for Environmental Studies, NIES)" />
<link rel="icon" type="image/vnd.microsoft.icon" href="/matplotlib/favicon.ico" />
<link rel="apple-touch-icon" type="image/png" href="/matplotlib/images/apple-touch-icon-180x180.png" />
<link rel="icon" type="image/png" href="/matplotlib/images/icon-192x192.png" />
<link rel="icon" type="image/x-icon" href="/matplotlib/favicon.ico" />
<!-- Mobile Internet Explorer allows us to activate ClearType technology for smoothing fonts for easy reading -->
<meta http-equiv="cleartype" content="on" />
<!-- Specify whether or not telephone numbers in the HTML content should appear as hypertext links -->
<meta name="format-detection" content="telephone=no" />
<!-- Changes the logical window size used when displaying a page mobile browsers -->
<meta name = "viewport" content = "width = device-width, initial-scale=1, user-scalable=yes" />

<meta name="robots" content="all" />
<meta name="http-equiv" content="X-Robots-Tag : all" />
<meta name="googlebot" content="all" />
<meta name="description" content="" />
<meta name="keywords" content="" />
<link href="design.css" rel="stylesheet" type="text/css" />
<title>気象データ解析のためのmatplotlibの使い方：GridSpec</title>
</head>

<body>
<article>

<h3 id="gridspec"><div class="headline1">GridSpec</div></h3>
<h4><div class="headline2" id="gridspec_1">GridSpecのモジュール</div></h4>
<div class="text1">
gridspectモジュールをインポートする
<pre>from matplotlib import gridspec</pre>
以降はgridspectとして参照できる
</div>

<h4><div class="headline2" id="gridspec_2">GridSpecでサブプロットを生成</div></h4>
<div class="text1">
gridspec.GridSpecを用いる
<pre>
gs = gridspec.GridSpec(縦分割数, 横分割数, height_ratios=縦分割比率のタプル, width_ratios=横分割比率のタプル)
ax = [plt.subplot(gs[縦軸方向の番号1, 横軸方向の番号1]), ..., plt.subplot(gs[縦軸方向の番号n, 横軸方向の番号n])]
</pre>
<ul class="list1">
<li>縦方向に4：1、横方向に6：1で分割し3つのサブプロット生成
<pre>
gs = gridspec.GridSpec(2, 2, height_ratios=(4, 1), width_ratios=(6, 1))
ax = [plt.subplot(gs[0, 0]), plt.subplot(gs[0, 1]), plt.subplot(gs[1, 0])]
</pre>
それぞれの図枠が、gs[0, 0]、gs[0, 1]、gs[1, 0]のように縦軸、横軸の番号をスライスで与えたものと対応</li>
<br />
<li>3つのサブプロット生成のイメージ</li>
<img src="./figs/Fig4-6-1.png" class="size2" alt="Fig" /><br /><br />
</ul>
</div>

<h4><div class="headline2" id="gridspec_3">GridSpecで縦方向に3分割、横方向に3分割する</div></h4>
<div class="text1">
縦の分割数を表す1番目の引数と横の分割数を表す2番目の引数を3にする
<pre>gs = gridspec.GridSpec(3, 3, height_ratios=縦分割比率のタプル, width_ratios=横分割比率のタプル)</pre>
<ul class="list1">
<li>縦縦軸を2：2：1、横軸を3：3：1に分割し、計7つのサブプロット生成
<pre>
gs = gridspec.GridSpec(3, 3, height_ratios=(2, 2, 1), width_ratios=(3, 3, 1))
ax = [plt.subplot(gs[0, 0]), plt.subplot(gs[0, 1]), plt.subplot(gs[0, 2]), \
   plt.subplot(gs[1, 0]), plt.subplot(gs[1, 1]), plt.subplot(gs[2, 0]), \
   plt.subplot(gs[2, 2]) ]
</pre></li>
<br />
<li>サブプロット生成のイメージ</li>
<img src="./figs/Fig4-6-3.png" class="size2" alt="Fig" /><br /><br />
</ul>
</div>

<h4><div class="headline2" id="gridspec_4">GridSpecで複数の領域にまたがる図枠を作成</div></h4>
<div class="text1">
分割した領域にまたがる範囲をgs[0, :]のように指定する（コロンは横軸方向全てを使うことを表す）
<ul class="list1">
<li>縦横にそれぞれ3分割した後で、計5つのサブプロット生成
<pre>
gs = gridspec.GridSpec(3, 3, height_ratios=(2, 2, 1), width_ratios=(3, 3, 1))
ax = [plt.subplot(gs[0, :]), \
   plt.subplot(gs[1, 0]), plt.subplot(gs[1, 1]), plt.subplot(gs[2, 0]), \
   plt.subplot(gs[1:, 2]) ]
</pre></li>
<br />
<li>サブプロット生成のイメージ</li>
<img src="./figs/Fig4-6-4.png" class="size2" alt="Fig" /><br /><br />
複雑な図枠配置を行う場合には、最初に完成後のイメージ図を作った方が良い
</ul>
</div>

<small><a href="#top">[top]</a></small> <br />
<hr width="105%" />
</article>
</body>
<footer>
<p>最終更新日：2024/09/07</p>
<p>Copyright (C) 2018-2024, Yousuke Yamashita, CC BY 4.0</p>
</footer>
</html>
